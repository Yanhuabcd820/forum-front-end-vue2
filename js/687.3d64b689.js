"use strict";(self["webpackChunkforum_front_end_vue2"]=self["webpackChunkforum_front_end_vue2"]||[]).push([[687],{9687:function(t,e,a){a.r(e),a.d(e,{default:function(){return l}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container py-5"},[a("div",[a("h1",[t._v(t._s(t.restaurant.name))]),a("span",{staticClass:"badge badge-secondary mt-1 mb-3"},[t._v(" "+t._s(t.restaurant.categoryName)+" ")])]),a("hr"),a("ul",[a("li",[t._v("評論數： "+t._s(t.restaurant.commentsLength))]),a("li",[t._v("瀏覽次數： "+t._s(t.restaurant.viewCounts))])]),a("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:function(e){return t.$router.back()}}},[t._v(" 回上一頁 ")])])},r=[],s=a(1947),o=a(1926);var u={name:"Dashboard",data(){return{restaurant:{id:-1,name:"",categoryName:"",commentsLength:0,viewCounts:0}}},created(){const{id:t}=this.$route.params;this.fetchDashboard(t)},methods:{async fetchDashboard(t){try{console.log(t);const{data:e}=await s.Z.restaurants.getRestaurant({restaurantId:t});console.log(e);const{id:a,name:n,Category:r,Comments:o,viewCounts:u}=e.restaurant;this.restaurant={id:a,name:n,categoryName:r?r.name:"未分類",commentsLength:o.length,viewCounts:u}}catch(e){o.F.fire({icon:"warning",title:"無法取得餐廳資料"})}}}},c=u,m=a(1001),i=(0,m.Z)(c,n,r,!1,null,null,null),l=i.exports},1947:function(t,e,a){var n=a(1926);e["Z"]={getRestaurants({page:t,categoryId:e}){const a=new URLSearchParams({page:t,categoryId:e});return n.l.get(`/restaurants?${a.toString()}`)},getFeeds(){return n.l.get("/restaurants/feeds")},restaurants:{create({formData:t}){return n.l.post("/admin/restaurants",t)},getRestaurant({restaurantId:t}){return n.l.get(`/restaurants/${t}`)}},comments:{postComments({restaurantId:t,text:e}){return n.l.post("/comments",{restaurantId:t,text:e})},deleteComment({id:t}){return n.l["delete"](`/comments/${t}`)}}}}}]);
//# sourceMappingURL=687.3d64b689.js.map