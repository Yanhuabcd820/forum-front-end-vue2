"use strict";(self["webpackChunkforum_front_end_vue2"]=self["webpackChunkforum_front_end_vue2"]||[]).push([[117],{6117:function(e,r,t){t.r(r),t.d(r,{default:function(){return g}});var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"container py-5"},[t("form",{on:{submit:function(r){return r.stopPropagation(),r.preventDefault(),e.currentUserSubmit.apply(null,arguments)}}},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"name"}},[e._v("Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{id:"name",type:"text",name:"name",placeholder:"Enter Name",required:""},domProps:{value:e.user.name},on:{input:function(r){r.target.composing||e.$set(e.user,"name",r.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"image"}},[e._v("Image")]),t("input",{staticClass:"form-control-file",attrs:{id:"image",type:"file",name:"image",accept:"image/*"},on:{change:e.handleCurrentUserImg}}),t("img",{attrs:{src:e.user.image,alt:"",width:"100"}})]),t("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:e.isProcessing}},[e._v(" "+e._s(e.isProcessing?"處裡中...":"Submit")+" ")])])])},s=[],a=t(6198),i=t(3019),u=(t(5666),t(1539),t(8783),t(3948),t(285),t(1637),t(8309),t(3652)),o=t(8247),c=t(629),m=t(1926),l={mixins:[o.L],name:"UserEdit",data:function(){return{user:{},isCurrentUser:!1,isProcessing:!1}},created:function(){this.setUser()},computed:(0,i.Z)({},(0,c.rn)(["currentUser"])),methods:{setUser:function(){var e=this.$route.params.id;e!==this.currentUser.id&&this.$router.push("*"),this.user=this.currentUser},handleCurrentUserImg:function(e){var r=e.target.files;if(0===r.length)this.restaurant.image="";else{var t=window.URL.createObjectURL(r[0]);this.currentUser.image=t}},currentUserSubmit:function(e){var r=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,r.isProcessing=!0,n=e.target,""!==r.user.name){t.next=7;break}return r.isProcessing=!1,m.F.fire({type:"warning",title:"請填寫姓名"}),t.abrupt("return");case 7:return s=new FormData(n),t.next=10,u.Z.update({userId:r.user.id,formData:s});case 10:r.$router.push({name:"USER",params:{id:r.user.id}}),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),r.isProcessing=!1,m.F.fire({icon:"warning",title:"無法增加追蹤"});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()}}},p=l,f=t(1001),d=(0,f.Z)(p,n,s,!1,null,null,null),g=d.exports}}]);
//# sourceMappingURL=117-legacy.6b6049aa.js.map