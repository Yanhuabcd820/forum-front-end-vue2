"use strict";(self["webpackChunkforum_front_end_vue2"]=self["webpackChunkforum_front_end_vue2"]||[]).push([[117],{6117:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container py-5"},[r("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.currentUserSubmit.apply(null,arguments)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[e._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{id:"name",type:"text",name:"name",placeholder:"Enter Name",required:""},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"image"}},[e._v("Image")]),r("input",{staticClass:"form-control-file",attrs:{id:"image",type:"file",name:"image",accept:"image/*"},on:{change:e.handleCurrentUserImg}}),r("img",{attrs:{src:e.user.image,alt:"",width:"100"}})]),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:e.isProcessing}},[e._v(" "+e._s(e.isProcessing?"處裡中...":"Submit")+" ")])])])},i=[],a=r(3652),n=r(8247),u=r(629),o=r(1926),m={mixins:[n.L],name:"UserEdit",data(){return{user:{},isCurrentUser:!1,isProcessing:!1}},created(){this.setUser()},computed:{...(0,u.rn)(["currentUser"])},methods:{setUser(){const{id:e}=this.$route.params;e!==this.currentUser.id&&this.$router.push("*"),this.user=this.currentUser},handleCurrentUserImg(e){const{files:t}=e.target;if(0===t.length)this.restaurant.image="";else{const e=window.URL.createObjectURL(t[0]);this.currentUser.image=e}},async currentUserSubmit(e){try{this.isProcessing=!0;const t=e.target;if(""===this.user.name)return this.isProcessing=!1,void o.F.fire({type:"warning",title:"請填寫姓名"});const r=new FormData(t);await a.Z.update({userId:this.user.id,formData:r}),this.$router.push({name:"USER",params:{id:this.user.id}})}catch(t){this.isProcessing=!1,o.F.fire({icon:"warning",title:"無法增加追蹤"})}}}},c=m,l=r(1001),d=(0,l.Z)(c,s,i,!1,null,null,null),p=d.exports}}]);
//# sourceMappingURL=117.4d86f346.js.map